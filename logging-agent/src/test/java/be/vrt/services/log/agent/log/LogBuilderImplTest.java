package be.vrt.services.log.agent.log;

import org.junit.Test;

public class LogBuilderImplTest {

    @Test
    public void test() {
        LogBuilderImpl builder = new LogBuilderImpl(new LogFlusherStub());
        for (int i = 0; i < 80000; i++) {
            builder.addLog("$$$$$$");
        }
        String s = "{\"date\":1513076914684,\"logDate\":1513076914689,\"transactionId\":\"svcawsmediabedev1-video-web-328ea412-de5b-44b1-9deb-a04ceed39846\",\"hostName\":\"svcawsmediabedev1\",\"flowId\":\"6a9c4575-f852-4d7e-8ee7-631e19f9f672-00000000-2017-12-12T12:08:34.683+01:00-drijkopi\",\"className\":\"be.vrt.services.log.collector.audit.aspect.AbstractAuditAspect\",\"methodName\":\"handleJoinPoint\",\"breadCrumb\":1,\"lineNumber\":82,\"subFlow\":0,\"user\":\"drijkopi\",\"logLevel\":\"INFO\",\"loggerName\":\"be.vrt.services.media.video.web.admin.facade.AdminDistributedVideoFacadeImpl\",\"logComment\":\"[FACADE] - AdminDistributedVideoFacade.findAllVideosForPeriodForType(..) >> OK\",\"ids\":[],\"tags\":[],\"content\":{\"[1] String\":\"FACADE\",\"[4] AuditLogDto\":{\"arguments\":[{\"[0]aDate\":0},{\"[1]aDate\":1513076914728},{\"[2]aString\":\"ALL\"},{\"[3]anInteger\":50},{\"[4]failed_parse_data\":\"String[] --> [Ljava.lang.String;\"}],\"response\":{\"from\":1512389985829,\"to\":1513076048941,\"remainingResults\":263,\"pageSize\":50,\"results\":[{\"videoId\":\"vid-711151cd-8bdb-49da-9ca5-20475f4b9e01\",\"originId\":null,\"originType\":null,\"distributionType\":\"CDN\",\"versionNumber\":0,\"versionReason\":null,\"currentState\":null,\"currentFlowState\":null,\"lastModified\":1513076048941,\"openSubtitles\":false,\"closedSubtitles\":false,\"created\":1513076048309},{\"videoId\":\"vid-47387405-aa77-4592-9dd3-29bb8e33d562\",\"originId\":\"WP00039196_101217_essencefail\",\"originType\":\"DEPOT\",\"distributionType\":\"CDN\",\"versionNumber\":1,\"versionReason\":\"FIRST_VERSION\",\"currentState\":\"AVAILABLE\",\"currentFlowState\":\"ORIGIN_INGEST_DONE\",\"lastModified\":1512976484524,\"openSubtitles\":false,\"closedSubtitles\":false,\"created\":1512976281398},{\"videoId\":\"vid-0161f0d8-2e22-48bc-93b0-337374948b77\",\"originId\":\"WP00039196_071217_essencefail2\",\"originType\":\"DEPOT\",\"distributionType\":\"CDN\",\"versionNumber\":2,\"versionReason\":\"ADMIN_REPROCESS\",\"currentState\":\"AVAILABLE\",\"currentFlowState\":\"ORIGIN_INGEST_DONE\",\"lastModified\":1512976440023,\"openSubtitles\":false,\"closedSubtitles\":false,\"created\":1512635710275},{\"videoId\":\"vid-2eafcaca-f26d-47ac-959f-4834af9608d9\",\"originId\":\"AIM10035018_demotim0311\",\"originType\":\"DEPOT\",\"distributionType\":\"CDN\",\"versionNumber\":1,\"versionReason\":\"FIRST_VERSION\",\"currentState\":\"DELETED\",\"currentFlowState\":\"ORIGIN_INGEST_DONE\",\"lastModified\":1512784800093,\"openSubtitles\":false,\"closedSubtitles\":false,\"created\":1509687759071},{\"videoId\":\"vid-b8b324b5-0a43-4331-9a2a-9b0f50e593e3\",\"originId\":\"AIM10035017_demotim0311\",\"originType\":\"DEPOT\",\"distributionType\":\"CDN\",\"versionNumber\":1,\"versionReason\":\"FIRST_VERSION\",\"currentState\":\"DELETED\",\"currentFlowState\":\"ORIGIN_INGEST_DONE\",\"lastModified\":1512784800066,\"openSubtitles\":false,\"closedSubtitles\":false,\"created\":1509687903227},{\"videoId\":\"vid-f10213b4-5c7a-489d-ad3f-01d61772a507\",\"originId\":\"WP00117839\",\"originType\":\"DEPOT\",\"distributionType\":\"CDN\",\"versionNumber\":3,\"versionReason\":\"ADMIN_REPROCESS\",\"currentState\":\"DELETED\",\"currentFlowState\":\"IMAGE_GROUP_UPSERTED\",\"lastModified\":1512698400157,\"openSubtitles\":false,\"closedSubtitles\":false,\"created\":1509698711038},{\"videoId\":\"vid-6825a885-07c6-40e6-ae66-553272f0663d\",\"originId\":\"WP00060641_demotim0311\",\"originType\":\"DEPOT\",\"distributionType\":\"CDN\",\"versionNumber\":1,\"versionReason\":\"FIRST_VERSION\",\"currentState\":\"DELETED\",\"currentFlowState\":\"ORIGIN_INGEST_DONE\",\"lastModified\":1512698400122,\"openSubtitles\":false,\"closedSubtitles\":true,\"created\":1509687872191},{\"videoId\":\"vid-5000bc00-9bdb-4705-ae34-80fac08d5746\",\"originId\":\"WP00090017\",\"originType\":\"DEPOT\",\"distributionType\":\"CDN\",\"versionNumber\":1,\"versionReason\":\"FIRST_VERSION\",\"currentState\":\"DELETED\",\"currentFlowState\":\"ORIGIN_INGEST_DONE\",\"lastModified\":1512698400109,\"openSubtitles\":false,\"closedSubtitles\":true,\"created\":1509697082163},{\"videoId\":\"vid-8bc4b993-6801-4cca-9e98-7bedfe716560\",\"originId\":\"WP00101651\",\"originType\":\"DEPOT\",\"distributionType\":\"CDN\",\"versionNumber\":1,\"versionReason\":\"FIRST_VERSION\",\"currentState\":\"DELETED\",\"currentFlowState\":\"ORIGIN_INGEST_DONE\",\"lastModified\":1512698400075,\"openSubtitles\":false,\"closedSubtitles\":true,\"created\":1509693644624},{\"videoId\":\"vid-81e962da-23b5-4b49-a62c-76ce3d12ab20\",\"originId\":\"WP00060641_tim_pubmiv_001\",\"originType\":\"DEPOT\",\"distributionType\":\"CDN\",\"versionNumber\":1,\"versionReason\":\"FIRST_VERSION\",\"currentState\":\"PENDING_DELETE\",\"currentFlowState\":\"ORIGIN_INGEST_DONE\",\"lastModified\":1512694800085,\"openSubtitles\":false,\"closedSubtitles\":true,\"created\":1511244435716},{\"videoId\":\"vid-69597290-2345-4b95-bbd7-a593c2999070\",\"originId\":\"WP00039196_071217_essencefail\",\"originType\":\"DEPOT\",\"distributionType\":\"CDN\",\"versionNumber\":2,\"versionReason\":\"ADMIN_REPROCESS\",\"currentState\":\"AVAILABLE\",\"currentFlowState\":\"ORIGIN_INGEST_DONE\",\"lastModified\":1512632340031,\"openSubtitles\":false,\"closedSubtitles\":false,\"created\":1512631503337},{\"videoId\":\"vid-fdde2d03-7da5-4c96-88ea-e09bc13c2e90\",\"originId\":\"WP00060641_071217_essencefail\",\"originType\":\"DEPOT\",\"distributionType\":\"CDN\",\"versionNumber\":1,\"versionReason\":\"FIRST_VERSION\",\"currentState\":\"PROCESSING_FAILED\",\"currentFlowState\":\"ENCODING_SUBTITLE_SCHEDULED\",\"lastModified\":1512631460044,\"openSubtitles\":false,\"closedSubtitles\":true,\"created\":1512630397023},{\"videoId\":\"vid-3b7b4f2a-f07f-4643-86c7-6144110a207a\",\"originId\":\"1663822\",\"originType\":\"ARVATO\",\"distributionType\":\"CDN\",\"versionNumber\":8,\"versionReason\":\"USER_REPROCESS\",\"currentState\":\"AVAILABLE\",\"currentFlowState\":\"ORIGIN_INGEST_DONE\",\"lastModified\":1512389987833,\"openSubtitles\":false,\"closedSubtitles\":false,\"created\":1511797216005},{\"videoId\":\"vid-6c823744-2a39-4192-9825-08bcf33d1fb6\",\"originId\":\"1664588\",\"originType\":\"ARVATO\",\"distributionType\":\"CDN\",\"versionNumber\":1,\"versionReason\":\"FIRST_VERSION\",\"currentState\":\"AVAILABLE\",\"currentFlowState\":\"ORIGIN_INGEST_DONE\",\"lastModified\":1512389987765,\"openSubtitles\":false,\"closedSubtitles\":false,\"created\":1511796699831},{\"videoId\":\"vid-7f95a94d-8d12-4e5d-859c-9ca72f10e1a7\",\"originId\":\"1624687_hardlink8\",\"originType\":\"ARVATO\",\"distributionType\":\"CDN\",\"versionNumber\":1,\"versionReason\":\"FIRST_VERSION\",\"currentState\":\"AVAILABLE\",\"currentFlowState\":\"ORIGIN_INGEST_DONE\",\"lastModified\":1512389987689,\"openSubtitles\":false,\"closedSubtitles\":false,\"created\":1511355416713},{\"videoId\":\"vid-e576eef6-a0df-4b00-9580-21869e938af1\",\"originId\":\"1624687_hardlink7\",\"originType\":\"ARVATO\",\"distributionType\":\"CDN\",\"versionNumber\":2,\"versionReason\":\"ADMIN_REPROCESS\",\"currentState\":\"AVAILABLE\",\"currentFlowState\":\"ORIGIN_INGEST_DONE\",\"lastModified\":1512389987635,\"openSubtitles\":false,\"closedSubtitles\":false,\"created\":1511354134455},{\"videoId\":\"vid-d96fe323-8fa7-42b1-a766-e7e61194e0d4\",\"originId\":\"1624687_hardlink6\",\"originType\":\"ARVATO\",\"distributionType\":\"CDN\",\"versionNumber\":1,\"versionReason\":\"FIRST_VERSION\",\"currentState\":\"AVAILABLE\",\"currentFlowState\":\"ORIGIN_INGEST_DONE\",\"lastModified\":1512389987594,\"openSubtitles\":false,\"closedSubtitles\":false,\"created\":1511353838999},{\"videoId\":\"vid-882e2708-fa51-40a6-98b4-48e091cf3c9d\",\"originId\":\"1624687_hardlink5\",\"originType\":\"ARVATO\",\"distributionType\":\"CDN\",\"versionNumber\":1,\"versionReason\":\"FIRST_VERSION\",\"currentState\":\"AVAILABLE\",\"currentFlowState\":\"ORIGIN_INGEST_DONE\",\"lastModified\":1512389987530,\"openSubtitles\":false,\"closedSubtitles\":false,\"created\":1511352612028},{\"videoId\":\"vid-7d35c92c-6536-4f88-9e95-2ca3cbaa36de\",\"originId\":\"1624687_hardlink4\",\"originType\":\"ARVATO\",\"distributionType\":\"CDN\",\"versionNumber\":1,\"versionReason\":\"FIRST_VERSION\",\"currentState\":\"AVAILABLE\",\"currentFlowState\":\"ORIGIN_INGEST_DONE\",\"lastModified\":1512389987425,\"openSubtitles\":false,\"closedSubtitles\":false,\"created\":1511350733496},{\"videoId\":\"vid-15eb4d8b-0800-4fe5-a0de-169e395d8d1e\",\"originId\":\"1624687_hardlink3\",\"originType\":\"ARVATO\",\"distributionType\":\"CDN\",\"versionNumber\":1,\"versionReason\":\"FIRST_VERSION\",\"currentState\":\"AVAILABLE\",\"currentFlowState\":\"ORIGIN_INGEST_DONE\",\"lastModified\":1512389987337,\"openSubtitles\":false,\"closedSubtitles\":false,\"created\":1511350016860},{\"videoId\":\"vid-b1dcb6c2-a671-4ae3-b448-180e42f242d7\",\"originId\":\"1624687_hardlink2\",\"originType\":\"ARVATO\",\"distributionType\":\"CDN\",\"versionNumber\":1,\"versionReason\":\"FIRST_VERSION\",\"currentState\":\"AVAILABLE\",\"currentFlowState\":\"ORIGIN_INGEST_DONE\",\"lastModified\":1512389987300,\"openSubtitles\":false,\"closedSubtitles\":false,\"created\":1511349465300},{\"videoId\":\"vid-d31a9f04-3137-4e9c-a7e1-a8e9f426a204\",\"originId\":\"1624687_hardlink1\",\"originType\":\"ARVATO\",\"distributionType\":\"CDN\",\"versionNumber\":1,\"versionReason\":\"FIRST_VERSION\",\"currentState\":\"AVAILABLE\",\"currentFlowState\":\"ORIGIN_INGEST_DONE\",\"lastModified\":1512389987262,\"openSubtitles\":false,\"closedSubtitles\":false,\"created\":1511344517341},{\"videoId\":\"vid-de72cb43-27ac-4da3-8dbd-30a0f6b546f4\",\"originId\":\"1624687_hardlink10\",\"originType\":\"ARVATO\",\"distributionType\":\"CDN\",\"versionNumber\":1,\"versionReason\":\"FIRST_VERSION\",\"currentState\":\"AVAILABLE\",\"currentFlowState\":\"ORIGIN_INGEST_DONE\",\"lastModified\":1512389987226,\"openSubtitles\":false,\"closedSubtitles\":false,\"created\":1511342193722},{\"videoId\":\"vid-411685c6-4813-4c74-9ac5-ff1481a5688b\",\"originId\":\"1220150113003916821_hardlink10\",\"originType\":\"ARDOME\",\"distributionType\":\"CDN\",\"versionNumber\":1,\"versionReason\":\"FIRST_VERSION\",\"currentState\":\"AVAILABLE\",\"currentFlowState\":\"ORIGIN_INGEST_DONE\",\"lastModified\":1512389987171,\"openSubtitles\":false,\"closedSubtitles\":false,\"created\":1511337274567},{\"videoId\":\"vid-c49aa5a4-b1bf-4a0d-81fd-b68f3947e322\",\"originId\":\"1220150113003916821_hardlink9\",\"originType\":\"ARDOME\",\"distributionType\":\"CDN\",\"versionNumber\":1,\"versionReason\":\"FIRST_VERSION\",\"currentState\":\"AVAILABLE\",\"currentFlowState\":\"ORIGIN_INGEST_DONE\",\"lastModified\":1512389987133,\"openSubtitles\":false,\"closedSubtitles\":false,\"created\":1511336642113},{\"videoId\":\"vid-5dce99cb-838c-4f07-83be-77a3d94a776f\",\"originId\":\"1220150113003916821_hardlink8\",\"originType\":\"ARDOME\",\"distributionType\":\"CDN\",\"versionNumber\":1,\"versionReason\":\"FIRST_VERSION\",\"currentState\":\"AVAILABLE\",\"currentFlowState\":\"ORIGIN_INGEST_DONE\",\"lastModified\":1512389987097,\"openSubtitles\":false,\"closedSubtitles\":false,\"created\":1511336388850},{\"videoId\":\"vid-3fcef7fd-a707-4109-842e-ddb6a97c0365\",\"originId\":\"1220150113003916821_hardlink7\",\"originType\":\"ARDOME\",\"distributionType\":\"CDN\",\"versionNumber\":1,\"versionReason\":\"FIRST_VERSION\",\"currentState\":\"AVAILABLE\",\"currentFlowState\":\"ORIGIN_INGEST_DONE\",\"lastModified\":1512389987059,\"openSubtitles\":false,\"closedSubtitles\":false,\"created\":1511335939040},{\"videoId\":\"vid-505f7df8-ca35-4ab2-b069-f6e31a991aba\",\"originId\":\"1220150113003916821_hardlink6\",\"originType\":\"ARDOME\",\"distributionType\":\"CDN\",\"versionNumber\":1,\"versionReason\":\"FIRST_VERSION\",\"currentState\":\"AVAILABLE\",\"currentFlowState\":\"ORIGIN_INGEST_DONE\",\"lastModified\":1512389987016,\"openSubtitles\":false,\"closedSubtitles\":false,\"created\":1511335785133},{\"videoId\":\"vid-82128702-b989-41e6-9a69-93205f346a8c\",\"originId\":\"1220150113003916821_hardlink5\",\"originType\":\"ARDOME\",\"distributionType\":\"CDN\",\"versionNumber\":1,\"versionReason\":\"FIRST_VERSION\",\"currentState\":\"AVAILABLE\",\"currentFlowState\":\"ORIGIN_INGEST_DONE\",\"lastModified\":1512389986979,\"openSubtitles\":false,\"closedSubtitles\":false,\"created\":1511335687956},{\"videoId\":\"vid-042dea77-9e08-46cf-b102-ff3857f85a5f\",\"originId\":\"1220150113003916821_hardlink4\",\"originType\":\"ARDOME\",\"distributionType\":\"CDN\",\"versionNumber\":1,\"versionReason\":\"FIRST_VERSION\",\"currentState\":\"AVAILABLE\",\"currentFlowState\":\"ORIGIN_INGEST_DONE\",\"lastModified\":1512389986939,\"openSubtitles\":false,\"closedSubtitles\":false,\"created\":1511268842392},{\"videoId\":\"vid-8208c97f-c332-437a-8892-bacb8cf5ac8e\",\"originId\":\"1220150113003916821_hardlink3\",\"originType\":\"ARDOME\",\"distributionType\":\"CDN\",\"versionNumber\":1,\"versionReason\":\"FIRST_VERSION\",\"currentState\":\"AVAILABLE\",\"currentFlowState\":\"ORIGIN_INGEST_DONE\",\"lastModified\":1512389986899,\"openSubtitles\":false,\"closedSubtitles\":false,\"created\":1511268597265},{\"videoId\":\"vid-cb9250e7-a40e-41de-bfd7-5ebccca00323\",\"originId\":\"1220150113003916821_hardlink2\",\"originType\":\"ARDOME\",\"distributionType\":\"CDN\",\"versionNumber\":1,\"versionReason\":\"FIRST_VERSION\",\"currentState\":\"AVAILABLE\",\"currentFlowState\":\"ORIGIN_INGEST_DONE\",\"lastModified\":1512389986862,\"openSubtitles\":false,\"closedSubtitles\":false,\"created\":1511268219892},{\"videoId\":\"vid-3d8e845c-5a3e-4ca4-beed-2da9fc6ee7d4\",\"originId\":\"1220150113003916821_hardlink1\",\"originType\":\"ARDOME\",\"distributionType\":\"CDN\",\"versionNumber\":3,\"versionReason\":\"ADMIN_REPROCESS\",\"currentState\":\"AVAILABLE\",\"currentFlowState\":\"ORIGIN_INGEST_DONE\",\"lastModified\":1512389986814,\"openSubtitles\":false,\"closedSubtitles\":false,\"created\":1511266315532},{\"videoId\":\"vid-0f8f8161-01fe-4574-b4fe-9dbb5a657c30\",\"originId\":\"hostedtest27072\",\"originType\":\"DEPOT\",\"distributionType\":\"CDN\",\"versionNumber\":2,\"versionReason\":\"ADMIN_REPROCESS\",\"currentState\":\"AVAILABLE\",\"currentFlowState\":\"ORIGIN_INGEST_DONE\",\"lastModified\":1512389986578,\"openSubtitles\":false,\"closedSubtitles\":false,\"created\":1506937988184},{\"videoId\":\"vid-c9b9b1f9-7492-45fb-9aba-edb34c6dc898\",\"originId\":\"1220150113003901921_testingmesomeradar\",\"originType\":\"ARDOME\",\"distributionType\":\"CDN\",\"versionNumber\":1,\"versionReason\":\"FIRST_VERSION\",\"currentState\":\"AVAILABLE\",\"currentFlowState\":\"ORIGIN_INGEST_DONE\",\"lastModified\":1512389986496,\"openSubtitles\":false,\"closedSubtitles\":false,\"created\":1505810021699},{\"videoId\":\"vid-83db6591-f3a9-4aeb-88d5-3398f2ce7aa3\",\"originId\":\"WP00115925_reprocessTest\",\"originType\":\"DEPOT\",\"distributionType\":\"CDN\",\"versionNumber\":2,\"versionReason\":\"LOGOS_CHANGED\",\"currentState\":\"AVAILABLE\",\"currentFlowState\":\"ORIGIN_INGEST_DONE\",\"lastModified\":1512389986453,\"openSubtitles\":false,\"closedSubtitles\":true,\"created\":1505390259568},{\"videoId\":\"vid-18f4b84b-023d-43ca-ab48-e1c2d1aea218\",\"originId\":\"WP00047524\",\"originType\":\"DEPOT\",\"distributionType\":\"CDN\",\"versionNumber\":1,\"versionReason\":\"FIRST_VERSION\",\"currentState\":\"AVAILABLE\",\"currentFlowState\":\"ORIGIN_INGEST_DONE\",\"lastModified\":1512389986385,\"openSubtitles\":false,\"closedSubtitles\":true,\"created\":1504617997671},{\"videoId\":\"vid-2f5d58af-81ed-432b-9c80-28ec043fd2eb\",\"originId\":\"1220150113003901921_radartest\",\"originType\":\"ARDOME\",\"distributionType\":\"CDN\",\"versionNumber\":1,\"versionReason\":\"FIRST_VERSION\",\"currentState\":\"AVAILABLE\",\"currentFlowState\":\"ORIGIN_INGEST_DONE\",\"lastModified\":1512389986346,\"openSubtitles\":false,\"closedSubtitles\":false,\"created\":1504617471704},{\"videoId\":\"vid-dff31a9c-d360-43e0-b918-441ea9933913\",\"originId\":\"WP00020526_vidagg161hotfix\",\"originType\":\"DEPOT\",\"distributionType\":\"CDN\",\"versionNumber\":1,\"versionReason\":\"FIRST_VERSION\",\"currentState\":\"AVAILABLE\",\"currentFlowState\":\"ORIGIN_INGEST_DONE\",\"lastModified\":1512389986304,\"openSubtitles\":false,\"closedSubtitles\":false,\"created\":1504072672195},{\"videoId\":\"vid-0d15f030-00ab-443e-b0c4-f500163bcc2a\",\"originId\":\"WP00020526_sumexp_1\",\"originType\":\"DEPOT\",\"distributionType\":\"CDN\",\"versionNumber\":1,\"versionReason\":\"FIRST_VERSION\",\"currentState\":\"AVAILABLE\",\"currentFlowState\":\"ORIGIN_INGEST_DONE\",\"lastModified\":1512389986278,\"openSubtitles\":false,\"closedSubtitles\":false,\"created\":1503982290715},{\"videoId\":\"vid-cef85fbc-42dc-49e0-8dcd-ed8df9be52d7\",\"originId\":\"1220150113003901921_thisisapreview\",\"originType\":\"ARDOME\",\"distributionType\":\"CDN\",\"versionNumber\":1,\"versionReason\":\"FIRST_VERSION\",\"currentState\":\"AVAILABLE\",\"currentFlowState\":\"ORIGIN_INGEST_DONE\",\"lastModified\":1512389986222,\"openSubtitles\":false,\"closedSubtitles\":false,\"created\":1503655234558},{\"videoId\":\"vid-8e347ed3-fc9d-45dc-994e-7852f8b7fcaf\",\"originId\":\"WP00017011\",\"originType\":\"DEPOT\",\"distributionType\":\"CDN\",\"versionNumber\":1,\"versionReason\":\"FIRST_VERSION\",\"currentState\":\"AVAILABLE\",\"currentFlowState\":\"ORIGIN_INGEST_DONE\",\"lastModified\":1512389986184,\"openSubtitles\":true,\"closedSubtitles\":true,\"created\":1503645439374},{\"videoId\":\"vid-158254d3-d4f7-48a7-8130-c5b86424a4ac\",\"originId\":\"1220150113003901921_previewExposureTest\",\"originType\":\"ARDOME\",\"distributionType\":\"CDN\",\"versionNumber\":1,\"versionReason\":\"FIRST_VERSION\",\"currentState\":\"AVAILABLE\",\"currentFlowState\":\"ORIGIN_INGEST_DONE\",\"lastModified\":1512389986122,\"openSubtitles\":false,\"closedSubtitles\":false,\"created\":1503046192041},{\"videoId\":\"vid-c2efe9a8-83e2-4beb-ba7a-bb12475c17e5\",\"originId\":\"1220150113003901921_previewTest\",\"originType\":\"ARDOME\",\"distributionType\":\"CDN\",\"versionNumber\":5,\"versionReason\":\"ADMIN_REPROCESS\",\"currentState\":\"AVAILABLE\",\"currentFlowState\":\"ORIGIN_INGEST_DONE\",\"lastModified\":1512389986075,\"openSubtitles\":false,\"closedSubtitles\":false,\"created\":1502960363703},{\"videoId\":\"vid-dce55eb4-b803-4abd-bf2c-1bf92dc16353\",\"originId\":\"1220150113003901921_elementalTest\",\"originType\":\"ARDOME\",\"distributionType\":\"CDN\",\"versionNumber\":1,\"versionReason\":\"FIRST_VERSION\",\"currentState\":\"AVAILABLE\",\"currentFlowState\":\"ORIGIN_INGEST_DONE\",\"lastModified\":1512389986021,\"openSubtitles\":false,\"closedSubtitles\":false,\"created\":1502717828612},{\"videoId\":\"vid-8a29e330-08c2-4562-8aee-55f914384937\",\"originId\":\"AIM10022835_roamingdemo\",\"originType\":\"DEPOT\",\"distributionType\":\"CDN\",\"versionNumber\":3,\"versionReason\":\"ADMIN_REPROCESS\",\"currentState\":\"AVAILABLE\",\"currentFlowState\":\"ORIGIN_INGEST_DONE\",\"lastModified\":1512389985988,\"openSubtitles\":true,\"closedSubtitles\":true,\"created\":1502439631333},{\"videoId\":\"vid-669126ce-0913-47d4-8eec-d9f451592408\",\"originId\":\"AIM10028506_blablabla\",\"originType\":\"DEPOT\",\"distributionType\":\"CDN\",\"versionNumber\":4,\"versionReason\":\"ADMIN_REPROCESS\",\"currentState\":\"PROCESSING_FAILED\",\"currentFlowState\":\"SOURCE_TRANSFER_FAILED\",\"lastModified\":1512389985948,\"openSubtitles\":false,\"closedSubtitles\":false,\"created\":1502273112043},{\"videoId\":\"vid-4d12548c-b6b8-4670-a9fc-0a13deae07c6\",\"originId\":\"AIM10023174_MediaServices-2017-08-08T11h11\",\"originType\":\"DEPOT\",\"distributionType\":\"CDN\",\"versionNumber\":2,\"versionReason\":\"LOGOS_CHANGED\",\"currentState\":\"PROCESSING_FAILED\",\"currentFlowState\":\"ENCODING_SUBTITLE_CONVERTED\",\"lastModified\":1512389985922,\"openSubtitles\":true,\"closedSubtitles\":true,\"created\":1502183524205},{\"videoId\":\"vid-5bc0395d-25a9-45da-8945-da111100d8a7\",\"originId\":\"AIM10028506_checkduration\",\"originType\":\"DEPOT\",\"distributionType\":\"CDN\",\"versionNumber\":4,\"versionReason\":\"USER_REPROCESS\",\"currentState\":\"AVAILABLE\",\"currentFlowState\":\"ORIGIN_INGEST_DONE\",\"lastModified\":1512389985851,\"openSubtitles\":false,\"closedSubtitles\":false,\"created\":1501066657086},{\"videoId\":\"vid-0d9b2fac-4d95-4fff-a552-3c0f77c1a5b6\",\"originId\":\"AIM10028439_durationcheck\",\"originType\":\"DEPOT\",\"distributionType\":\"CDN\",\"versionNumber\":1,\"versionReason\":\"PREMIUM_MISSING\",\"currentState\":\"AVAILABLE\",\"currentFlowState\":\"ORIGIN_INGEST_DONE\",\"lastModified\":1512389985829,\"openSubtitles\":false,\"closedSubtitles\":false,\"created\":1501065817587}]},\"method\":\"AdminDistributedVideoFacade.findAllVideosForPeriodForType(..)\",\"className\":\"AdminDistributedVideoFacadeImpl\",\"startDate\":1513076914684,\"duration\":4,\"auditLevel\":\"OK\"},\"[2] String\":\"AdminDistributedVideoFacade.findAllVideosForPeriodForType(..)\",\"[3] AuditLevelType\":\"OK\"},\"environmentInfo\":{\"app\":\"video\",\"runtime\":\"runtime-svcawsmediabedev1-767dfb56-3ebd-47d2-b9bc-309d9c2de9f1\",\"env\":\"DEV\",\"startup\":1512975966628},\"cssClass\":\"\"}";

        printStats(builder.buffer);
        builder.addLog(s);

        printStats(builder.buffer);
    }

    private void printStats(StringBuilder builder) {
        System.out.println("capacity: " + builder.capacity());
        System.out.println("length: " + builder.length());
    }

    private class LogFlusherStub implements LogFlusher {
        @Override
        public void flush(StringBuilder buffer) {
            System.out.println(buffer.toString());
            printStats(buffer);
        }
    }
}